{"id":217,"date":"2012-12-31T10:00:43","date_gmt":"2012-12-31T09:00:43","guid":{"rendered":"https:\/\/aprendegit.com\/?p=217"},"modified":"2024-07-25T16:51:46","modified_gmt":"2024-07-25T14:51:46","slug":"ignorando-ficheros-en-git-parte-ii-prioridades","status":"publish","type":"post","link":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/","title":{"rendered":"Ignorando ficheros en git &#8211; Parte II: Prioridades"},"content":{"rendered":"<p>En la <a title=\"Ignorando ficheros en git \u2013 Parte I: Formas de ignorar ficheros\" href=\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-i-formas-de-ignorar-ficheros\/\">entrega anterior de esta serie<\/a>, vimos las cuatro formas en las que podemos ignorar ciertos ficheros de forma que no se incluyan en nuestros repositorios.<\/p>\n<p>En este art\u00edculo vamos a ver en qu\u00e9 orden se aplican estas cuatro maneras de leer los patrones y qu\u00e9 ocurre cuando en ellos tenemos patrones contradictorios.<\/p>\n<h2>Patrones contradictorios<\/h2>\n<p>Supongamos que tenemos los siguientes patrones en los ficheros exclude y .gitignore:<\/p>\n<pre>#.git\/info\/exclude\r\n*.phar\r\n*.p<\/pre>\n<pre>#.gitignore\r\n!*.php<\/pre>\n<p>Estos patrones son contradictorios ya que en el primer caso estamos ignorando los ficheros con extensi\u00f3n .php y en el segundo estamos diciendo que no se ignoren (ese es el significado del signo de exclamaci\u00f3n \u00ab!\u00bb inicial en el patr\u00f3n).<\/p>\n<p>\u00bfQu\u00e9 va a pasar? Dado que el fichero .gitignore tiene prioridad sobre el fichero .git\/info\/exclude, los ficheros se incluir\u00e1n en el repositorio. Si abrimos SourceTree en nuestro proyecto veremos lo siguiente:<\/p>\n<p><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-218\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png\" alt=\"Reglas contradictorias I\" width=\"624\" height=\"322\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png 624w, https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275-300x154.png 300w\" sizes=\"(max-width: 624px) 100vw, 624px\" \/><\/p>\n<p>La regla es que git revisa por orden la l\u00ednea de comandos, el fichero .gitignore, el fichero exclude y \u00a0el fichero indicado por core.excludesfile. El <del>primero<\/del> \u00faltimo de ellos que contenga un patr\u00f3n que expl\u00edcitamente ignore o no un fichero dado, es el que aplica.<\/p>\n<p>\u00bfQu\u00e9 pasa si dentro de un mismo fichero existen reglas contradictorias? Imag\u00ednate un fichero .gitignore como el siguiente:<\/p>\n<pre># .gitignore\r\n!*.php\r\n\r\n# Otros patrones\r\n....\r\n\r\n# Un compa\u00f1ero de equipo a\u00f1ade d\u00edas despu\u00e9s la siguiente regla\r\n*.php<\/pre>\n<p>Git utiliza la \u00faltima regla, por lo que los ficheros se ignoran y no podr\u00edamos a\u00f1adirlos al repositorio:<a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture276.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-219\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture276.png\" alt=\"Patrones contradictorios en .gitignore\" width=\"624\" height=\"336\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture276.png 624w, https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture276-300x161.png 300w\" sizes=\"(max-width: 624px) 100vw, 624px\" \/><\/a><\/p>\n<h2>.git\/info\/exclude vs .gitignore vs core.excludesfile<\/h2>\n<p>Entendido c\u00f3mo funciona el orden de prioridades \u00bfqu\u00e9 patrones ponemos en cada una de las tres opciones que nos da git?<\/p>\n<ul>\n<li>En .gitignore pondremos aquellos patrones que queremos que sean iguales en todos los clones que existen del repositorio. Todos los miembros del equipo los comparten. <strong>Es por ello que este fichero debe incluirse en el repositorio.\u00a0<\/strong>Este es un buen lugar para ignorar ficheros de log y cache, configuraciones, claves privadas, etc.<\/li>\n<li>En .git\/info\/exclude se incluyen patrones que se van a aplicar s\u00f3lo a nuestra copia local y no se van a distribuir al resto de miembros del equipo. Este fichero es \u00fatil cuando por ejemplo, creas una rama local para desarrollar una determinada caracter\u00edstica de la aplicaci\u00f3n, y necesitas ignorar ciertos ficheros sin que el resto del equipo se vea afectado por ello.<\/li>\n<li>En el fichero indicado por la variable core.excludesfile, incluimos aquellos patrones que queremos ignorar de forma global en todos los repositorios. Este es un lugar para incluir los ficheros del proyecto generados por nuestro entorno de desarrollo. Por ejemplo, si estamos trabajando con PHPStorm o RubyMine, incluir\u00edamos el siguiente patr\u00f3n:<\/li>\n<\/ul>\n<pre>.idea\/<\/pre>\n<p>Para saber qu\u00e9 fichero es el que se indica en la variable core.excludesfile, usamos el comando git-config:<\/p>\n<pre># git config --get core.excludesfile\r\n\/home\/myuser\/.gitignore_global<\/pre>\n<p>Si queremos modificar la ruta al fichero utilizamos la opci\u00f3n &#8211;global del comando git-config:<\/p>\n<pre># git config --global core.excludesfile \/home\/myser\/myconfig\/mygitignore\r\n# git config --get core.excludesfile\r\n\/home\/myuser\/myconfig\/mygitignore<\/pre>\n<p>Por una cuesti\u00f3n de comodidad, denominaremos de ahora en adelante este fichero como .gitignore_global, entendiendo que modificando esta opci\u00f3n de configuraci\u00f3n, este fichero puede tener otro nombre y estar en una ruta diferente.<\/p>\n<h2>\u00bfConviene incluir en el repositorio los ficheros de configuraci\u00f3n del entorno de desarrollo?<\/h2>\n<p>Una conversaci\u00f3n que he tenido ya en varias ocasiones con diferentes personas es si conviene o no incluir en el fichero .gitignore los ficheros de configuraci\u00f3n del entorno de desarrollo, ya sea Eclipse, Netbeans, PHPStorm o cualquier otro.<\/p>\n<p>Mi pol\u00edtica es la siguiente:<\/p>\n<ul>\n<li>Si est\u00e1s trabajando en un proyecto de software libre en el que puede participar cualquier persona, tendr\u00edas que incluir en el fichero todos y cada uno de los posibles IDE que los colaboradores utilicen. Esto complica el fichero innecesariamente y dificulta su mantenimiento. \u00bfCu\u00e1ntos IDE o editores de texto diferentes utilizan todos los colaboradores de un proyecto? En este caso, lo mejor es que cada colaborador se responsabilice de configurar su fichero .git\/info\/exclude o .gitignore_global adecuadamente.<\/li>\n<li>Si est\u00e1s trabajando en un equipo en el que todos sus miembros utilizan el mismo entorno de desarrollo, entonces s\u00ed que incluyo los ficheros del IDE en el fichero .gitignore. El motivo es que no usamos m\u00e1s de dos o tres IDE diferentes que se pueden gestionar f\u00e1cilmente con 3 o 4 patrones en el fichero .gitignore.<\/li>\n<\/ul>\n<p>De cara a trabajar con gente novata en git dentro del equipo, la mejor opci\u00f3n es la segunda. El motivo es que no necesitan hacer nada una vez clonan el repositorio para ignorar los ficheros del entorno de desarrollo. As\u00ed les facilitamos un poco el trabajo al principio.<\/p>\n<p>Esto es todo por hoy. En la siguiente entrega veremos los diferentes patrones que podemos utilizar para ignorar ficheros.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>En la entrega anterior de esta serie, vimos las cuatro formas en las que podemos ignorar ciertos ficheros de forma que no se incluyan en nuestros repositorios. En este art\u00edculo vamos a ver en qu\u00e9 orden se aplican estas cuatro maneras de leer los patrones y qu\u00e9 ocurre cuando en ellos tenemos patrones contradictorios. Patrones [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_monsterinsights_skip_tracking":false,"_monsterinsights_sitenote_active":false,"_monsterinsights_sitenote_note":"","_monsterinsights_sitenote_category":0,"jetpack_post_was_ever_published":false,"_jetpack_newsletter_access":"","_jetpack_dont_email_post_to_subs":false,"_jetpack_newsletter_tier_id":0,"_jetpack_memberships_contains_paywalled_content":false,"_jetpack_memberships_contains_paid_content":false,"footnotes":"","jetpack_publicize_message":"\u00daltimo art\u00edculo de 2012 \u00a1Feliz a\u00f1o a todos! Ignorando ficheros en git - Parte II: Prioridades http:\/\/wp.me\/p2Y8Ja-3v","jetpack_publicize_feature_enabled":true,"jetpack_social_post_already_shared":true,"jetpack_social_options":{"image_generator_settings":{"template":"highway","enabled":false},"version":2}},"categories":[10],"tags":[],"class_list":["post-217","post","type-post","status-publish","format-standard","hentry","category-general"],"jetpack_publicize_connections":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v23.4 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>git - ignorando ficheros - Parte II - Prioridades<\/title>\n<meta name=\"description\" content=\"Seguimos analizando c\u00f3mo git ignora ficheros, analizando las diferencias entre .gitignore, .git\/info\/exclude y la ruta almacenada en la variable core.excludesfile\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/\" \/>\n<meta property=\"og:locale\" content=\"es_ES\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"git - ignorando ficheros - Parte II - Prioridades\" \/>\n<meta property=\"og:description\" content=\"Seguimos analizando c\u00f3mo git ignora ficheros, analizando las diferencias entre .gitignore, .git\/info\/exclude y la ruta almacenada en la variable core.excludesfile\" \/>\n<meta property=\"og:url\" content=\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/\" \/>\n<meta property=\"og:site_name\" content=\"Aprende GIT\" \/>\n<meta property=\"article:published_time\" content=\"2012-12-31T09:00:43+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2024-07-25T14:51:46+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png\" \/>\n<meta name=\"author\" content=\"alfonso\" \/>\n<meta name=\"twitter:label1\" content=\"Escrito por\" \/>\n\t<meta name=\"twitter:data1\" content=\"alfonso\" \/>\n\t<meta name=\"twitter:label2\" content=\"Tiempo de lectura\" \/>\n\t<meta name=\"twitter:data2\" content=\"4 minutos\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/\",\"url\":\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/\",\"name\":\"git - ignorando ficheros - Parte II - Prioridades\",\"isPartOf\":{\"@id\":\"https:\/\/aprendegit.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png\",\"datePublished\":\"2012-12-31T09:00:43+00:00\",\"dateModified\":\"2024-07-25T14:51:46+00:00\",\"author\":{\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5\"},\"description\":\"Seguimos analizando c\u00f3mo git ignora ficheros, analizando las diferencias entre .gitignore, .git\/info\/exclude y la ruta almacenada en la variable core.excludesfile\",\"inLanguage\":\"es\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"es\",\"@id\":\"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/#primaryimage\",\"url\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png\",\"contentUrl\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png\",\"width\":\"624\",\"height\":\"322\",\"caption\":\"Reglas contradictorias I\"},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/aprendegit.com\/#website\",\"url\":\"https:\/\/aprendegit.com\/\",\"name\":\"Aprende GIT\",\"description\":\"Informaci\u00f3n y experiencias sobre el uso de git\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/aprendegit.com\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"es\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5\",\"name\":\"alfonso\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"es\",\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738\",\"contentUrl\":\"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738\",\"caption\":\"alfonso\"},\"url\":\"https:\/\/aprendegit.com\/author\/alfonso\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"git - ignorando ficheros - Parte II - Prioridades","description":"Seguimos analizando c\u00f3mo git ignora ficheros, analizando las diferencias entre .gitignore, .git\/info\/exclude y la ruta almacenada en la variable core.excludesfile","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/","og_locale":"es_ES","og_type":"article","og_title":"git - ignorando ficheros - Parte II - Prioridades","og_description":"Seguimos analizando c\u00f3mo git ignora ficheros, analizando las diferencias entre .gitignore, .git\/info\/exclude y la ruta almacenada en la variable core.excludesfile","og_url":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/","og_site_name":"Aprende GIT","article_published_time":"2012-12-31T09:00:43+00:00","article_modified_time":"2024-07-25T14:51:46+00:00","og_image":[{"url":"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png"}],"author":"alfonso","twitter_misc":{"Escrito por":"alfonso","Tiempo de lectura":"4 minutos"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/","url":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/","name":"git - ignorando ficheros - Parte II - Prioridades","isPartOf":{"@id":"https:\/\/aprendegit.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/#primaryimage"},"image":{"@id":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/#primaryimage"},"thumbnailUrl":"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png","datePublished":"2012-12-31T09:00:43+00:00","dateModified":"2024-07-25T14:51:46+00:00","author":{"@id":"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5"},"description":"Seguimos analizando c\u00f3mo git ignora ficheros, analizando las diferencias entre .gitignore, .git\/info\/exclude y la ruta almacenada en la variable core.excludesfile","inLanguage":"es","potentialAction":[{"@type":"ReadAction","target":["https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/"]}]},{"@type":"ImageObject","inLanguage":"es","@id":"https:\/\/aprendegit.com\/ignorando-ficheros-en-git-parte-ii-prioridades\/#primaryimage","url":"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png","contentUrl":"https:\/\/aprendegit.com\/wp-content\/uploads\/2012\/12\/Voila_Capture275.png","width":"624","height":"322","caption":"Reglas contradictorias I"},{"@type":"WebSite","@id":"https:\/\/aprendegit.com\/#website","url":"https:\/\/aprendegit.com\/","name":"Aprende GIT","description":"Informaci\u00f3n y experiencias sobre el uso de git","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/aprendegit.com\/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"es"},{"@type":"Person","@id":"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5","name":"alfonso","image":{"@type":"ImageObject","inLanguage":"es","@id":"https:\/\/aprendegit.com\/#\/schema\/person\/image\/","url":"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738","contentUrl":"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738","caption":"alfonso"},"url":"https:\/\/aprendegit.com\/author\/alfonso\/"}]}},"jetpack_featured_media_url":"","jetpack_shortlink":"https:\/\/wp.me\/p2Y8Ja-3v","jetpack_sharing_enabled":true,"_links":{"self":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/217"}],"collection":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/comments?post=217"}],"version-history":[{"count":12,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/217\/revisions"}],"predecessor-version":[{"id":756,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/217\/revisions\/756"}],"wp:attachment":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/media?parent=217"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/categories?post=217"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/tags?post=217"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}