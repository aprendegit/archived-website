{"id":409,"date":"2013-02-18T18:27:43","date_gmt":"2013-02-18T17:27:43","guid":{"rendered":"https:\/\/aprendegit.com\/?p=409"},"modified":"2024-07-25T16:51:37","modified_gmt":"2024-07-25T14:51:37","slug":"forzando-merge-commits","status":"publish","type":"post","link":"https:\/\/aprendegit.com\/forzando-merge-commits\/","title":{"rendered":"Forzando los merge commits"},"content":{"rendered":"<p>Una de las preguntas m\u00e1s habituales que se hacen en los <a href=\"http:\/\/www.cursodegit.com\">cursos de git<\/a> que imparto regularmente, y que tambi\u00e9n se me ha planteado en algunas de las reuniones de desarrolladores en las que participo es la siguiente: \u00bfC\u00f3mo evito un fast-forward para dejar constancia en el repositorio de d\u00f3nde empieza y termina una rama?<\/p>\n<h1>Forzar merge commits<\/h1>\n<p>Lo m\u00e1s claro, como siempre, es verlo con un ejemplo. Imaginad que lleg\u00e1is por la ma\u00f1ana al trabajo y empez\u00e1is como siempre a picar c\u00f3digo como locos en la rama devel. De repente surge la necesidad de atender un bug. Siguiendo las buenas pr\u00e1cticas, lo que haremos ser\u00e1 crear una rama HotFix, arreglar el problema haciendo cuantos commits necesitemos a esa rama y finalmente hacer un merge a la rama que corresponda\u00a0cuando terminemos de corregir el bug.<\/p>\n<p>En la siguiente captura se muestra el estado del repositorio justo despu\u00e9s de haber hecho el \u00faltimo commit a la rama hotfix_14523 que arregla el problema en cuesti\u00f3n:<\/p>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-411\" title=\"Estado del repositorio al terminar el hotfix 15423\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\" alt=\"Estado del repositorio al terminar el hotfix 15423\" width=\"920\" height=\"537\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png 920w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24-300x175.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24-624x364.png 624w\" sizes=\"(max-width: 920px) 100vw, 920px\" \/><\/a><\/p>\n<p>Si en este momento se hace un merge de la rama hotfix_15423 a la rama devel, se har\u00e1 un fast-forward:<\/p>\n<pre>$ git checkout devel\r\n$ git merge hotfix_15423\r\nUpdating 2d1d1c4..2b9d126\r\n<span style=\"color: #ff0000;\"><strong>Fast-forward<\/strong><\/span>\r\nGemfile | 2 ++\r\napp\/views\/home\/index.html.erb | 1 +\r\n2 files changed, 3 insertions(+)<\/pre>\n<p>As\u00ed queda el grafo despu\u00e9s de hacer el merge:<a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture25.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-412\" title=\"Estado del repositorio tras hacer un merge con fast-forward de la rama hotfix_15423\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture25.png\" alt=\"Estado del repositorio tras hacer un merge con fast-forward de la rama hotfix_15423\" width=\"920\" height=\"346\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture25.png 920w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture25-300x112.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture25-624x234.png 624w\" sizes=\"(max-width: 920px) 100vw, 920px\" \/><\/a><\/p>\n<p>Como vemos, mirando la historia del repositorio, no queda constancia de cu\u00e1ndo se empez\u00f3 el desarrollo de la rama hotfix_15423 y cu\u00e1ndo se incorpor\u00f3 a la rama devel. Una soluci\u00f3n podr\u00eda ser etiquetar los commits correspondientes, como se muestra en la siguiente captura:<a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture26.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-413\" title=\"Usando etiquetas para indicar el inicio y final de una rama\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture26.png\" alt=\"Usando etiquetas para indicar el inicio y final de una rama\" width=\"919\" height=\"370\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture26.png 919w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture26-300x120.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture26-624x251.png 624w\" sizes=\"(max-width: 919px) 100vw, 919px\" \/><\/a><\/p>\n<p>Esta soluci\u00f3n es v\u00e1lida cuando tenemos pocas ramas. Si tenemos muchas ramas de las que queramos saber su inicio y final, podemos acabar con un n\u00famero de etiquetas dif\u00edcil de gestionar.<\/p>\n<h1>Forzar un merge commit<\/h1>\n<p>Volvamos a la situaci\u00f3n inicial:<\/p>\n<pre>$ git reset --hard 2d1d1c4\r\nHEAD is now at 2d1d1c4 Update README.rdoc<\/pre>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-411\" title=\"Estado del repositorio al terminar el hotfix 15423\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\" alt=\"Estado del repositorio al terminar el hotfix 15423\" width=\"920\" height=\"537\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png 920w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24-300x175.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24-624x364.png 624w\" sizes=\"(max-width: 920px) 100vw, 920px\" \/><\/a><\/p>\n<p>En esta situaci\u00f3n, volvemos a ejecutar el merge de la siguiente forma:<\/p>\n<pre>$ git merge <strong><span style=\"color: #ff0000;\">--no-ff<\/span><\/strong> hotfix_15423 -m'Incorporando rama hotfix_15423'\r\nMerge made by the 'recursive' strategy.\r\n Gemfile | 2 ++\r\n app\/views\/home\/index.html.erb | 1 +\r\n 2 files changed, 3 insertions(+)<\/pre>\n<p>Despu\u00e9s de ejecutar el comando, este es el estado del repositorio:<\/p>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture28.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-414\" title=\"Incoporando hotfix15423 en devel con la opci\u00f3n --no-ff\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture28.png\" alt=\"Incoporando hotfix15423 en devel con la opci\u00f3n --no-ff\" width=\"921\" height=\"457\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture28.png 921w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture28-300x148.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture28-624x309.png 624w\" sizes=\"(max-width: 921px) 100vw, 921px\" \/><\/a><\/p>\n<p>Haci\u00e9ndolo de esta forma, en lugar de hacerse un fast-forward, vemos que se crea un merge-commit, lo que resulta en una bifurcaci\u00f3n que indica claramente el fin y el inicio de la rama hotfix_15423.<\/p>\n<p>Si sois de los que os gusta ver claramente d\u00f3nde empiezan y terminan vuestras ramas, este peque\u00f1o truco es resultar\u00e1 de utilidad.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Una de las preguntas m\u00e1s habituales que se hacen en los cursos de git que imparto regularmente, y que tambi\u00e9n se me ha planteado en algunas de las reuniones de desarrolladores en las que participo es la siguiente: \u00bfC\u00f3mo evito un fast-forward para dejar constancia en el repositorio de d\u00f3nde empieza y termina una rama? [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_monsterinsights_skip_tracking":false,"_monsterinsights_sitenote_active":false,"_monsterinsights_sitenote_note":"","_monsterinsights_sitenote_category":0,"jetpack_post_was_ever_published":false,"_jetpack_newsletter_access":"","_jetpack_dont_email_post_to_subs":false,"_jetpack_newsletter_tier_id":0,"_jetpack_memberships_contains_paywalled_content":false,"_jetpack_memberships_contains_paid_content":false,"footnotes":"","jetpack_publicize_message":"C\u00f3mo evitar un fast-forward y dejar constancia de d\u00f3nde empieza y termina una rama: forzando un merge commit http:\/\/kcy.me\/fkn3 #git","jetpack_publicize_feature_enabled":true,"jetpack_social_post_already_shared":true,"jetpack_social_options":{"image_generator_settings":{"template":"highway","enabled":false},"version":2}},"categories":[20,21],"tags":[24],"class_list":["post-409","post","type-post","status-publish","format-standard","hentry","category-comandos","category-workflow","tag-git-merge"],"jetpack_publicize_connections":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v23.4 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Forzando los merge commits - Aprende GIT<\/title>\n<meta name=\"description\" content=\"Explicamos c\u00f3mo forzar merge commits en un repositorio con la opci\u00f3n --no-ff para dejar constancia en la historia d\u00f3nde empieza y termina una rama.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/aprendegit.com\/forzando-merge-commits\/\" \/>\n<meta property=\"og:locale\" content=\"es_ES\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Forzando los merge commits - Aprende GIT\" \/>\n<meta property=\"og:description\" content=\"Explicamos c\u00f3mo forzar merge commits en un repositorio con la opci\u00f3n --no-ff para dejar constancia en la historia d\u00f3nde empieza y termina una rama.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/aprendegit.com\/forzando-merge-commits\/\" \/>\n<meta property=\"og:site_name\" content=\"Aprende GIT\" \/>\n<meta property=\"article:published_time\" content=\"2013-02-18T17:27:43+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2024-07-25T14:51:37+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\" \/>\n<meta name=\"author\" content=\"alfonso\" \/>\n<meta name=\"twitter:label1\" content=\"Escrito por\" \/>\n\t<meta name=\"twitter:data1\" content=\"alfonso\" \/>\n\t<meta name=\"twitter:label2\" content=\"Tiempo de lectura\" \/>\n\t<meta name=\"twitter:data2\" content=\"2 minutos\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/aprendegit.com\/forzando-merge-commits\/\",\"url\":\"https:\/\/aprendegit.com\/forzando-merge-commits\/\",\"name\":\"Forzando los merge commits - Aprende GIT\",\"isPartOf\":{\"@id\":\"https:\/\/aprendegit.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/aprendegit.com\/forzando-merge-commits\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/aprendegit.com\/forzando-merge-commits\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\",\"datePublished\":\"2013-02-18T17:27:43+00:00\",\"dateModified\":\"2024-07-25T14:51:37+00:00\",\"author\":{\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5\"},\"description\":\"Explicamos c\u00f3mo forzar merge commits en un repositorio con la opci\u00f3n --no-ff para dejar constancia en la historia d\u00f3nde empieza y termina una rama.\",\"inLanguage\":\"es\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/aprendegit.com\/forzando-merge-commits\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"es\",\"@id\":\"https:\/\/aprendegit.com\/forzando-merge-commits\/#primaryimage\",\"url\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\",\"contentUrl\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png\",\"width\":\"920\",\"height\":\"537\",\"caption\":\"Estado del repositorio al terminar el hotfix 15423\"},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/aprendegit.com\/#website\",\"url\":\"https:\/\/aprendegit.com\/\",\"name\":\"Aprende GIT\",\"description\":\"Informaci\u00f3n y experiencias sobre el uso de git\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/aprendegit.com\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"es\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5\",\"name\":\"alfonso\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"es\",\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738\",\"contentUrl\":\"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738\",\"caption\":\"alfonso\"},\"url\":\"https:\/\/aprendegit.com\/author\/alfonso\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Forzando los merge commits - Aprende GIT","description":"Explicamos c\u00f3mo forzar merge commits en un repositorio con la opci\u00f3n --no-ff para dejar constancia en la historia d\u00f3nde empieza y termina una rama.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/aprendegit.com\/forzando-merge-commits\/","og_locale":"es_ES","og_type":"article","og_title":"Forzando los merge commits - Aprende GIT","og_description":"Explicamos c\u00f3mo forzar merge commits en un repositorio con la opci\u00f3n --no-ff para dejar constancia en la historia d\u00f3nde empieza y termina una rama.","og_url":"https:\/\/aprendegit.com\/forzando-merge-commits\/","og_site_name":"Aprende GIT","article_published_time":"2013-02-18T17:27:43+00:00","article_modified_time":"2024-07-25T14:51:37+00:00","og_image":[{"url":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png"}],"author":"alfonso","twitter_misc":{"Escrito por":"alfonso","Tiempo de lectura":"2 minutos"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/aprendegit.com\/forzando-merge-commits\/","url":"https:\/\/aprendegit.com\/forzando-merge-commits\/","name":"Forzando los merge commits - Aprende GIT","isPartOf":{"@id":"https:\/\/aprendegit.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/aprendegit.com\/forzando-merge-commits\/#primaryimage"},"image":{"@id":"https:\/\/aprendegit.com\/forzando-merge-commits\/#primaryimage"},"thumbnailUrl":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png","datePublished":"2013-02-18T17:27:43+00:00","dateModified":"2024-07-25T14:51:37+00:00","author":{"@id":"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5"},"description":"Explicamos c\u00f3mo forzar merge commits en un repositorio con la opci\u00f3n --no-ff para dejar constancia en la historia d\u00f3nde empieza y termina una rama.","inLanguage":"es","potentialAction":[{"@type":"ReadAction","target":["https:\/\/aprendegit.com\/forzando-merge-commits\/"]}]},{"@type":"ImageObject","inLanguage":"es","@id":"https:\/\/aprendegit.com\/forzando-merge-commits\/#primaryimage","url":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png","contentUrl":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/02\/Voila_Capture24.png","width":"920","height":"537","caption":"Estado del repositorio al terminar el hotfix 15423"},{"@type":"WebSite","@id":"https:\/\/aprendegit.com\/#website","url":"https:\/\/aprendegit.com\/","name":"Aprende GIT","description":"Informaci\u00f3n y experiencias sobre el uso de git","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/aprendegit.com\/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"es"},{"@type":"Person","@id":"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5","name":"alfonso","image":{"@type":"ImageObject","inLanguage":"es","@id":"https:\/\/aprendegit.com\/#\/schema\/person\/image\/","url":"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738","contentUrl":"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738","caption":"alfonso"},"url":"https:\/\/aprendegit.com\/author\/alfonso\/"}]}},"jetpack_featured_media_url":"","jetpack_shortlink":"https:\/\/wp.me\/p2Y8Ja-6B","jetpack_sharing_enabled":true,"_links":{"self":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/409"}],"collection":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/comments?post=409"}],"version-history":[{"count":11,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/409\/revisions"}],"predecessor-version":[{"id":751,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/409\/revisions\/751"}],"wp:attachment":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/media?parent=409"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/categories?post=409"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/tags?post=409"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}