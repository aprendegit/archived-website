{"id":630,"date":"2013-09-11T17:14:32","date_gmt":"2013-09-11T15:14:32","guid":{"rendered":"https:\/\/aprendegit.com\/?p=630"},"modified":"2024-07-25T16:48:40","modified_gmt":"2024-07-25T14:48:40","slug":"como-deshacer-el-ultimo-commit-en-git","status":"publish","type":"post","link":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/","title":{"rendered":"C\u00f3mo deshacer el \u00faltimo commit en git"},"content":{"rendered":"<p>Aqu\u00ed os dejo una manera sencilla de dar marcha atr\u00e1s si hab\u00e9is hecho un commit y os hab\u00e9is arrepentido de hacerlo. El motivo por el que quer\u00e9is \u00abborrarlo\u00bb puede ser m\u00faltiple: porque el trabajo no est\u00e1 terminado y quer\u00e9is continuar trabajando, hab\u00e9is introducido un bug sin daos cuenta o sencillamente os hab\u00e9is equivocado y lo hab\u00e9is hecho antes de tiempo.<\/p>\n<p>Existen dos maneras de borrar ese commit:<\/p>\n<ul>\n<li><span style=\"line-height: 14px;\">Eliminando junto al commit las modificaciones que este contiene<\/span><\/li>\n<li>Recuper\u00e1ndolas en el \u00e1rea de trabajo para seguir trabajando en ellas<\/li>\n<\/ul>\n<p>En ambos casos, el comando que utilizaremos ser\u00e1 \u00abgit reset\u00bb.<\/p>\n<h2>Deshacer el commit perdiendo las modificaciones<\/h2>\n<p>Supongamos que tenemos nuestro repositorio en el siguiente estado:<\/p>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-633\" alt=\"Voila_Capture283\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\" width=\"670\" height=\"225\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png 670w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283-300x100.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283-624x209.png 624w\" sizes=\"(max-width: 670px) 100vw, 670px\" \/><\/a>y queremos deshacer el \u00faltimo commit. En este primer caso, <strong>queremos desechar los cambios introducidos en ese commit<\/strong>\u00a0que contiene una serie de tests funcionales.<\/p>\n<p>Para ello, ejecutamos el comando:<\/p>\n<pre>git reset --hard HEAD~1<\/pre>\n<p>Tras ejecutar el comando, el estado del repositorio es el siguiente:<\/p>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture284.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-634\" alt=\"Repositorio tras borrar el commit\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture284.png\" width=\"671\" height=\"231\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture284.png 671w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture284-300x103.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture284-624x214.png 624w\" sizes=\"(max-width: 671px) 100vw, 671px\" \/><\/a><\/p>\n<p>Como pod\u00e9is ver, el commit 600cc08 ha desaparecido que era lo que quer\u00edamos. Adem\u00e1s, la rama activa se ha desplazado un commit hacia abajo y nuestro \u00e1rea de trabajo ha quedado en el estado del commit 6eb9f2d. Los tests funcionales que estaban en el commit se han perdido y tendr\u00edamos que <a title=\"Git: la he liado parda\" href=\"https:\/\/aprendegit.com\/git-la-he-liado-parda\/\">recurrir al reflog<\/a> para recuperarlos.<\/p>\n<p>La sintaxis HEAD~1 del comando anterior la podr\u00edamos traducir como \u00abEl commit al que est\u00e1 apuntando la rama activa menos uno\u00bb. Si hubi\u00e9semos ejecutado el comando:<\/p>\n<pre>git reset --hard HEAD~3<\/pre>\n<p>en lugar de acabar en el commit 6eb9f2d (uno por detr\u00e1s) habr\u00edamos acabado en 63db9fa (tres por detr\u00e1s).<\/p>\n<h2>Deshacer el commit manteniendo las modificaciones<\/h2>\n<p>Existe la posibilidad de eliminar el commit pero manteniendo las modificaciones que contiene ese commit en el \u00e1rea de trabajo. \u00bfY por qu\u00e9 querr\u00edamos hacer esto? Por varios motivos, por ejemplo por que los tests funcionales del commit\u00a0600cc08 est\u00e1n incompletos, son incorrectos o he introducido alg\u00fan bug en \u00e9l.<\/p>\n<p>Partiendo de nuevo del mismos estado inicial de antes:<\/p>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-633\" alt=\"Estado inicial del repositorio.\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\" width=\"670\" height=\"225\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png 670w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283-300x100.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283-624x209.png 624w\" sizes=\"(max-width: 670px) 100vw, 670px\" \/><\/a>ejecutar\u00edamos el siguiente comando:<\/p>\n<pre>git reset HEAD~1<\/pre>\n<p>Tras lo cual, el estado del repositorio ser\u00eda:<\/p>\n<p><a href=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture285.png\"><img loading=\"lazy\" decoding=\"async\" class=\"aligncenter size-full wp-image-635\" alt=\"Voila_Capture285\" src=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture285.png\" width=\"668\" height=\"487\" srcset=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture285.png 668w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture285-300x218.png 300w, https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture285-624x454.png 624w\" sizes=\"(max-width: 668px) 100vw, 668px\" \/><\/a>Si mir\u00e1is el estado ver\u00e9is los siguiente:<\/p>\n<ul>\n<li><span style=\"line-height: 14px;\">Al igual que en el caso anterior, el commit 600cc08 ha desaparecido<\/span><\/li>\n<li><span style=\"line-height: 14px;\">La rama activa (rest) ha pasado al apuntar al commit 6eb9f2d<\/span><\/li>\n<li><span style=\"line-height: 14px;\">A diferencia del \u00a0caso anterior, el \u00e1rea de trabajo contiene las modificaciones que estaban en el commit que acabamos de borrar.<\/span><\/li>\n<\/ul>\n<p>As\u00ed que podemos seguir trabajando, corregir el bug o completar los tests que hab\u00edamos dejado incompletos y hacer un nuevo commit con los cambios completos. \u00a1As\u00ed de f\u00e1cil!<\/p>\n<h2>Muy \u00fatil pero&#8230;<\/h2>\n<p>Muy importante tener en cuenta que estas dos operaciones sobreescriben la historia del repositorio \u00a1estamos borrando un commit!. Si estamos trabajando en local y no hemos hecho push a nuestro remoto no hay ning\u00fan problema. Si ha hab\u00e9is hecho push de este commit tened en cuenta que vuestros compa\u00f1eros lo seguir\u00e1n viendo si alguna de sus ramas lo referencia.<\/p>\n<p>Espero que os haya resultado \u00fatil.<\/p>\n<p>&nbsp;<\/p>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Aqu\u00ed os dejo una manera sencilla de dar marcha atr\u00e1s si hab\u00e9is hecho un commit y os hab\u00e9is arrepentido de hacerlo. El motivo por el que quer\u00e9is \u00abborrarlo\u00bb puede ser m\u00faltiple: porque el trabajo no est\u00e1 terminado y quer\u00e9is continuar trabajando, hab\u00e9is introducido un bug sin daos cuenta o sencillamente os hab\u00e9is equivocado y lo [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"_monsterinsights_skip_tracking":false,"_monsterinsights_sitenote_active":false,"_monsterinsights_sitenote_note":"","_monsterinsights_sitenote_category":0,"jetpack_post_was_ever_published":false,"_jetpack_newsletter_access":"","_jetpack_dont_email_post_to_subs":false,"_jetpack_newsletter_tier_id":0,"_jetpack_memberships_contains_paywalled_content":false,"_jetpack_memberships_contains_paid_content":false,"footnotes":"","jetpack_publicize_message":"","jetpack_publicize_feature_enabled":true,"jetpack_social_post_already_shared":true,"jetpack_social_options":{"image_generator_settings":{"template":"highway","enabled":false},"version":2}},"categories":[20],"tags":[],"class_list":["post-630","post","type-post","status-publish","format-standard","hentry","category-comandos"],"jetpack_publicize_connections":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v23.4 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>C\u00f3mo deshacer un commit en git<\/title>\n<meta name=\"description\" content=\"En esta entrada os contamos c\u00f3mo pod\u00e9is deshacer el \u00faltimo commit en git utilizando el comando git-reset.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/\" \/>\n<meta property=\"og:locale\" content=\"es_ES\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"C\u00f3mo deshacer un commit en git\" \/>\n<meta property=\"og:description\" content=\"En esta entrada os contamos c\u00f3mo pod\u00e9is deshacer el \u00faltimo commit en git utilizando el comando git-reset.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/\" \/>\n<meta property=\"og:site_name\" content=\"Aprende GIT\" \/>\n<meta property=\"article:published_time\" content=\"2013-09-11T15:14:32+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2024-07-25T14:48:40+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\" \/>\n<meta name=\"author\" content=\"alfonso\" \/>\n<meta name=\"twitter:label1\" content=\"Escrito por\" \/>\n\t<meta name=\"twitter:data1\" content=\"alfonso\" \/>\n\t<meta name=\"twitter:label2\" content=\"Tiempo de lectura\" \/>\n\t<meta name=\"twitter:data2\" content=\"3 minutos\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/\",\"url\":\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/\",\"name\":\"C\u00f3mo deshacer un commit en git\",\"isPartOf\":{\"@id\":\"https:\/\/aprendegit.com\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/#primaryimage\"},\"image\":{\"@id\":\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\",\"datePublished\":\"2013-09-11T15:14:32+00:00\",\"dateModified\":\"2024-07-25T14:48:40+00:00\",\"author\":{\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5\"},\"description\":\"En esta entrada os contamos c\u00f3mo pod\u00e9is deshacer el \u00faltimo commit en git utilizando el comando git-reset.\",\"inLanguage\":\"es\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/\"]}]},{\"@type\":\"ImageObject\",\"inLanguage\":\"es\",\"@id\":\"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/#primaryimage\",\"url\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\",\"contentUrl\":\"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png\",\"width\":670,\"height\":225},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/aprendegit.com\/#website\",\"url\":\"https:\/\/aprendegit.com\/\",\"name\":\"Aprende GIT\",\"description\":\"Informaci\u00f3n y experiencias sobre el uso de git\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/aprendegit.com\/?s={search_term_string}\"},\"query-input\":{\"@type\":\"PropertyValueSpecification\",\"valueRequired\":true,\"valueName\":\"search_term_string\"}}],\"inLanguage\":\"es\"},{\"@type\":\"Person\",\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5\",\"name\":\"alfonso\",\"image\":{\"@type\":\"ImageObject\",\"inLanguage\":\"es\",\"@id\":\"https:\/\/aprendegit.com\/#\/schema\/person\/image\/\",\"url\":\"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738\",\"contentUrl\":\"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738\",\"caption\":\"alfonso\"},\"url\":\"https:\/\/aprendegit.com\/author\/alfonso\/\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"C\u00f3mo deshacer un commit en git","description":"En esta entrada os contamos c\u00f3mo pod\u00e9is deshacer el \u00faltimo commit en git utilizando el comando git-reset.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/","og_locale":"es_ES","og_type":"article","og_title":"C\u00f3mo deshacer un commit en git","og_description":"En esta entrada os contamos c\u00f3mo pod\u00e9is deshacer el \u00faltimo commit en git utilizando el comando git-reset.","og_url":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/","og_site_name":"Aprende GIT","article_published_time":"2013-09-11T15:14:32+00:00","article_modified_time":"2024-07-25T14:48:40+00:00","og_image":[{"url":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png"}],"author":"alfonso","twitter_misc":{"Escrito por":"alfonso","Tiempo de lectura":"3 minutos"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/","url":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/","name":"C\u00f3mo deshacer un commit en git","isPartOf":{"@id":"https:\/\/aprendegit.com\/#website"},"primaryImageOfPage":{"@id":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/#primaryimage"},"image":{"@id":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/#primaryimage"},"thumbnailUrl":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png","datePublished":"2013-09-11T15:14:32+00:00","dateModified":"2024-07-25T14:48:40+00:00","author":{"@id":"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5"},"description":"En esta entrada os contamos c\u00f3mo pod\u00e9is deshacer el \u00faltimo commit en git utilizando el comando git-reset.","inLanguage":"es","potentialAction":[{"@type":"ReadAction","target":["https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/"]}]},{"@type":"ImageObject","inLanguage":"es","@id":"https:\/\/aprendegit.com\/como-deshacer-el-ultimo-commit-en-git\/#primaryimage","url":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png","contentUrl":"https:\/\/aprendegit.com\/wp-content\/uploads\/2013\/09\/Voila_Capture283.png","width":670,"height":225},{"@type":"WebSite","@id":"https:\/\/aprendegit.com\/#website","url":"https:\/\/aprendegit.com\/","name":"Aprende GIT","description":"Informaci\u00f3n y experiencias sobre el uso de git","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/aprendegit.com\/?s={search_term_string}"},"query-input":{"@type":"PropertyValueSpecification","valueRequired":true,"valueName":"search_term_string"}}],"inLanguage":"es"},{"@type":"Person","@id":"https:\/\/aprendegit.com\/#\/schema\/person\/d7815f12de5748b52eadab35cd0801d5","name":"alfonso","image":{"@type":"ImageObject","inLanguage":"es","@id":"https:\/\/aprendegit.com\/#\/schema\/person\/image\/","url":"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738","contentUrl":"https:\/\/aprendegit.com\/wp-content\/litespeed\/avatar\/1\/11264ed1c2ec0decf145ada60ab2ee73.jpg?ver=1725196738","caption":"alfonso"},"url":"https:\/\/aprendegit.com\/author\/alfonso\/"}]}},"jetpack_featured_media_url":"","jetpack_shortlink":"https:\/\/wp.me\/p2Y8Ja-aa","jetpack_sharing_enabled":true,"_links":{"self":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/630"}],"collection":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/comments?post=630"}],"version-history":[{"count":10,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/630\/revisions"}],"predecessor-version":[{"id":742,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/posts\/630\/revisions\/742"}],"wp:attachment":[{"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/media?parent=630"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/categories?post=630"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/aprendegit.com\/wp-json\/wp\/v2\/tags?post=630"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}